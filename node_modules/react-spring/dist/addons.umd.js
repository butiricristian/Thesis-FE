!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.ReactSpringAddons={})}(this,function(t){"use strict";var n=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n},i=function(){function t(){}var n=t.prototype;return n.start=function(t,n,i,e){},n.stop=function(){},n.__debouncedOnEnd=function(t){var n=this.__onEnd;this.__onEnd=null,n&&n(t)},t}(),e=4,o=.001,a=1e-7,r=10,s=11,u=1/(s-1),_="function"==typeof Float32Array;function c(t,n){return 1-3*n+3*t}function l(t,n){return 3*n-6*t}function f(t){return 3*t}function h(t,n,i){return((c(n,i)*t+l(n,i))*t+f(n))*t}function d(t,n,i){return 3*c(n,i)*t*t+2*l(n,i)*t+f(n)}function m(t,n,i,c){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");var l=_?new Float32Array(s):new Array(s);if(t!==n||i!==c)for(var f=0;f<s;++f)l[f]=h(f*u,t,i);function m(n){for(var _=0,c=1,f=s-1;c!==f&&l[c]<=n;++c)_+=u;var m=_+(n-l[--c])/(l[c+1]-l[c])*u,p=d(m,t,i);return p>=o?function(t,n,i,o){for(var a=0;a<e;++a){var r=d(n,i,o);if(0===r)return n;n-=(h(n,i,o)-t)/r}return n}(n,m,t,i):0===p?m:function(t,n,i,e,o){var s,u,_=0;do{(s=h(u=n+(i-n)/2,e,o)-t)>0?i=u:n=u}while(Math.abs(s)>a&&++_<r);return u}(n,_,_+u,t,i)}return function(e){return t===n&&i===c?e:0===e?0:1===e?1:h(m(e),n,c)}}var p=function(){function t(){}return t.step0=function(t){return t>0?1:0},t.step1=function(t){return t>=1?1:0},t.linear=function(t){return t},t.ease=function(t){return v(t)},t.quad=function(t){return t*t},t.cubic=function(t){return t*t*t},t.poly=function(t){return function(n){return Math.pow(n,t)}},t.sin=function(t){return 1-Math.cos(t*Math.PI/2)},t.circle=function(t){return 1-Math.sqrt(1-t*t)},t.exp=function(t){return Math.pow(2,10*(t-1))},t.elastic=function(t){void 0===t&&(t=1);var n=t*Math.PI;return function(t){return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*n)}},t.back=function(t){return void 0===t&&(t=1.70158),function(n){return n*n*((t+1)*n-t)}},t.bounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bezier=function(t,n,i,e){return m(t,n,i,e)},t.in=function(t){return t},t.out=function(t){return function(n){return 1-t(1-n)}},t.inOut=function(t){return function(n){return n<.5?t(2*n)/2:1-t(2*(1-n))/2}},t}(),v=p.bezier(.42,0,1,1),y=p.inOut(p.ease),V=function(t){function i(n){var i;return(i=t.call(this)||this).onUpdate=function(){var t=Date.now();if(t>=i._startTime+i._duration)return i._onUpdate(0===i._duration?i._toValue:i._fromValue+i._easing(1)*(i._toValue-i._fromValue)),void i.__debouncedOnEnd({finished:!0});i._onUpdate(i._fromValue+i._easing((t-i._startTime)/i._duration)*(i._toValue-i._fromValue)),i.__active&&(i._animationFrame=requestAnimationFrame(i.onUpdate))},i._toValue=n.toValue,i._easing=void 0!==n.easing?n.easing:y,i._duration=void 0!==n.duration?n.duration:500,i._delay=void 0!==n.delay?n.delay:0,i}n(i,t);var e=i.prototype;return e.start=function(t,n,i){var e=this;this.__active=!0,this._fromValue=t,this._onUpdate=n,this.__onEnd=i;var o=function(){0===e._duration?(e._onUpdate(e._toValue),e.__debouncedOnEnd({finished:!0})):(e._startTime=Date.now(),e._animationFrame=requestAnimationFrame(e.onUpdate))};this._delay?this._timeout=setTimeout(o,this._delay):o()},e.stop=function(){this.__active=!1,clearTimeout(this._timeout),cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(i),T=function(t,n){return void 0===t||null===t?n:t},M=function(t,n){return{tension:(i=t,3.62*(i-30)+194),friction:function(t){return 3*(t-8)+25}(n)};var i},b=function(t){function i(n){var i;(i=t.call(this)||this).onUpdate=function(){var t=Date.now();t>i._lastTime+64&&(t=i._lastTime+64);var n=(t-i._lastTime)/1e3;i._frameTime+=n;var e=i._friction,o=i._mass,a=i._tension,r=-i._initialVelocity,s=e/(2*Math.sqrt(a*o)),u=Math.sqrt(a/o),_=u*Math.sqrt(1-s*s),c=i._toValue-i._startPosition,l=0,f=0,h=i._frameTime;if(s<1){var d=Math.exp(-s*u*h);l=i._toValue-d*((r+s*u*c)/_*Math.sin(_*h)+c*Math.cos(_*h)),f=s*u*d*(Math.sin(_*h)*(r+s*u*c)/_+c*Math.cos(_*h))-d*(Math.cos(_*h)*(r+s*u*c)-_*c*Math.sin(_*h))}else{var m=Math.exp(-u*h);l=i._toValue-m*(c+(r+u*c)*h),f=m*(r*(h*u-1)+h*c*(u*u))}if(i._lastTime=t,i._lastPosition=l,i._lastVelocity=f,i._onUpdate(l),i.__active){var p=!1;i._overshootClamping&&0!==i._stiffness&&(p=i._startPosition<i._toValue?l>i._toValue:l<i._toValue);var v=Math.abs(f)<=i._restSpeedThreshold,y=!0;if(0!==i._stiffness&&(y=Math.abs(i._toValue-l)<=i._restDisplacementThreshold),p||v&&y)return 0!==i._stiffness&&(i._lastPosition=i._toValue,i._lastVelocity=0,i._onUpdate(i._toValue)),i.__debouncedOnEnd({finished:!0});i._animationFrame=requestAnimationFrame(i.onUpdate)}},i._overshootClamping=T(n.overshootClamping,!1),i._restDisplacementThreshold=T(n.restDisplacementThreshold,1e-4),i._restSpeedThreshold=T(n.restSpeedThreshold,1e-4),i._initialVelocity=T(n.velocity,0),i._lastVelocity=T(n.velocity,0),i._toValue=n.toValue;var e=M(T(n.tension,40),T(n.friction,7));return i._tension=e.tension,i._friction=e.friction,i._mass=T(n.mass,1),i._delay=void 0!==n.delay?n.delay:0,i}n(i,t);var e=i.prototype;return e.start=function(t,n,e,o){if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=n,this.__onEnd=e,this._lastTime=Date.now(),this._frameTime=0,o instanceof i){var a=o.getInternalState();this._lastPosition=a.lastPosition,this._lastVelocity=a.lastVelocity,this._lastTime=a.lastTime}void 0!==this._initialVelocity&&null!==this._initialVelocity&&(this._lastVelocity=this._initialVelocity),this._delay?this._timeout=setTimeout(this.onUpdate,this._delay):this.onUpdate()},e.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},e.stop=function(){this.__active=!1,clearTimeout(this._timeout),cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(i);t.TimingAnimation=V,t.OscillatorAnimation=b,t.Easing=p,Object.defineProperty(t,"__esModule",{value:!0})});
